# al-triangulation

A few functions for generating navmesh for Adventure Land (code MMORPG).

## Requirements

Meant to be used with NodeJS, either standalone or as a package from within Adventure Land.

Requires Node Package Manager (npm).

## Installation

Clone or download repository to folder of your choice. Navigate to folder in a terminal and enter the following commands:

    npm install
    npm run build-tsc

This will generate transpiled javascript code in the `dist` folder that is usable in NodeJS or a browser. Source maps and TypeScript declaration files are generated by default, but can be disabled in `tsconfig.json`.

## Bundle (optional)

Webpack is configured to bundle the source code into a single js file, which can be uploaded into an Adventure Land code slot. Run the following command to build a bundle:

    npm run build-bundle

A js file `bundle/bundle.js` will be created. This file can be required directly, or uploaded to a code slot and required through AL's `require_code` function. Source maps are generated by default and will significantly increase the bundle size, but can be disabled in `webpack.config.js` by setting `devtool` to the string `"false"`.

## Usage

The package can be imported using CommonJS directly by specifying the absolute or relative path to the `al-triangulation` folder.

```js
const ALTriangulation = require("./al-triangulation");
const { vertices, edge_indices, faces } = ALTriangulation.generate_navmesh(map_data, from_position);
console.log(`The navmesh has ${faces.length} quads.`);
```
